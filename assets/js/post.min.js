const getPostByTemplate=(id,title,description,url)=>`<div class="post" --data-index="${id}">\n            <h1>${title}</h1>\n            <span class="description">\n                ${description}\n            </span>\n            <br><button class="btn-custom post-read" --data-url="${url}">\n                Read post\n            </button>\n        </div>`;document.addEventListener("DOMContentLoaded",async()=>{const postId=document.location.href.split("?id=")[1]||"";if(""==postId){console.log("No posts found, displaying posts list page");const posts=await fetch("/post/posts.json").then(data=>data.json());for(const index in Object.keys(posts)){const post=posts[index],postTemplate=getPostByTemplate(post.id,post.title,post.description.join(" "),post.url);console.log(postTemplate),document.getElementById("posts").innerHTML+=`${postTemplate}`}const _posts=document.getElementsByClassName("post");for(const index in Object.keys(_posts)){const post=_posts[index];post.style.left=`${23*(parseInt(index)+.1)}%`}parseCustomButtons()}let post=await(await fetch(`/post/posts/${postId}.md`)).text();console.log(`${post}`),post=post.split("---")[2],document.getElementById("posts").innerHTML=marked.parse(post)});